# TGTG Telegram Notifier Crontab Configuration
# Simple and reliable cron jobs for TGTG notifications
#
# SETUP INSTRUCTIONS:
# 1. Update PROJECT_DIR path below to match your installation
# 2. Install with: crontab tgtg-15min-notify-crontab.txt
# 3. Verify with: crontab -l

# Environment variables for cron
SHELL=/bin/bash
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin

# Set your project directory path here - CHANGE THIS TO YOUR ACTUAL PATH
PROJECT_DIR=/home/pi/programming-fun/tgtg_telegram_notifier

# Main TGTG notification job - runs every 15 minutes
*/1 * * * * cd $PROJECT_DIR && python3 -c "from tgtg_check import TGTGChecker; TGTGChecker().check_and_notify(send_summary=True)" >> $PROJECT_DIR/cron_tgtg.log 2>&1

# Daily dependency check at 6 AM
0 6 * * * cd $PROJECT_DIR && python3 -m pip install --user python-telegram-bot tgtg pytz python-dotenv requests >> $PROJECT_DIR/cron_setup.log 2>&1

# Weekly summary every Sunday at 6 PM
0 18 * * 0 cd $PROJECT_DIR && python3 db_manage.py stats >> $PROJECT_DIR/cron_weekly.log 2>&1
